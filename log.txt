
> effplang@1.0.0 runindex /home/albert/git/effplang
> npm run build && node build/src/index


> effplang@1.0.0 build /home/albert/git/effplang
> tsc

type Unit = Unit; type Bool = True | False; effect Flip = flip : Unit -> Bool; effect State (t : ?) = get : Unit -> t | put : t -> Unit; let testeff = λ_ -> let x = #get Unit in #flip Unit
inferDefs type Unit = Unit; type Bool = True | False; effect Flip = flip : Unit -> Bool; effect State (t : ?) = get : Unit -> t | put : t -> Unit; let testeff = λ_ -> let x = #get Unit in #flip Unit
inferType Unit
add |>1
inferCon Unit
inferType Bool
add |>2
inferCon True
inferCon False
inferEffect Flip
add |>3
inferOp flip
inferKind Unit
inferKindR Unit | [|>3]
unifyKinds Type ~ Type
inferKind Bool
inferKindR Bool | [|>3]
unifyKinds Type ~ Type
inferEffect State
add |>4
add t : ?0
inferOp get
inferKind Unit
inferKindR Unit | [|>4, t : ?0]
unifyKinds Type ~ Type
inferKind t
inferKindR t | [|>4, t : ?0]
unifyKinds ?0 ~ Type
inferOp put
inferKind t
inferKindR t | [|>4, t : ?0]
unifyKinds Type ~ Type
inferKind Unit
inferKindR Unit | [|>4, t : ?0]
unifyKinds Type ~ Type
inferDef testeff
add |>5
add ?6 : Type
synth λ_ -> let x = #get Unit in #flip Unit
add |>10
add2 ?7 : Type ?e$8 : EffectRow ?9 : Type
check let x = #get Unit in #flip Unit : ?9 ; ?e$8
synth #get Unit
synth #get
add ?e$11 : EffectRow
synthapp ∀(t : Type). Unit -> <State t> t @ Unit
add ?t$12 : Type
synthapp Unit -> <State ?t$12> ?t$12 @ Unit
add ?e$13 : EffectRow
add ?e$14 : EffectRow
check Unit : Unit ; ?e$14
synth Unit
add ?e$15 : EffectRow
subsume Unit <: Unit | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$14 : EffectRow, ?e$15 : EffectRow]
unify ?e$15 ~ ?e$14 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$14 : EffectRow, ?e$15 : EffectRow]
subsume ?e$15 <: ?e$14 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$14 : EffectRow, ?e$15 : EffectRow]
subsumeTMeta ?e$15 := ?e$14
solve ?e$15 10 ?e$14 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$14 : EffectRow, ?e$15 : EffectRow]
subsume ?e$14 <: ?e$14 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$14 : EffectRow]
subsumeTMeta ?e$14 := ?e$15
subsumeTMeta ?e$14 := ?e$14
unify ?e$14 ~ <State ?t$12 | ?e$13> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$14 : EffectRow]
subsume ?e$14 <: <State ?t$12 | ?e$13> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$14 : EffectRow]
subsumeTMeta ?e$14 := <State ?t$12 | ?e$13>
replace2 ?16 : EffectRow -> EffectRow ?17 : EffectRow
subsume ?16 ?17 <: <State ?t$12 | ?e$13> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?16 : EffectRow -> EffectRow, ?17 : EffectRow]
unify ?16 ~ | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?16 : EffectRow -> EffectRow, ?17 : EffectRow]
subsume ?16 <: | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?16 : EffectRow -> EffectRow, ?17 : EffectRow]
subsumeTMeta ?16 := | (State ?t$12)
replace2 ?18 : Effect -> EffectRow -> EffectRow ?19 : Effect
subsume ?18 ?19 <: | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?18 : Effect -> EffectRow -> EffectRow, ?19 : Effect, ?17 : EffectRow]
unify ?18 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?18 : Effect -> EffectRow -> EffectRow, ?19 : Effect, ?17 : EffectRow]
subsume ?18 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?18 : Effect -> EffectRow -> EffectRow, ?19 : Effect, ?17 : EffectRow]
subsumeTMeta ?18 := |
solve ?18 9 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?18 : Effect -> EffectRow -> EffectRow, ?19 : Effect, ?17 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?19 : Effect, ?17 : EffectRow]
subsumeTMeta | =: ?18
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?19 : Effect, ?17 : EffectRow]
unify ?19 ~ State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?19 : Effect, ?17 : EffectRow]
subsume ?19 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?19 : Effect, ?17 : EffectRow]
subsumeTMeta ?19 := State ?t$12
replace2 ?20 : Type -> Effect ?21 : Type
subsume ?20 ?21 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?20 : Type -> Effect, ?21 : Type, ?17 : EffectRow]
unify ?20 ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?20 : Type -> Effect, ?21 : Type, ?17 : EffectRow]
subsume ?20 <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?20 : Type -> Effect, ?21 : Type, ?17 : EffectRow]
subsumeTMeta ?20 := State
solve ?20 9 State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?20 : Type -> Effect, ?21 : Type, ?17 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?21 : Type, ?17 : EffectRow]
subsumeTMeta State =: ?20
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?21 : Type, ?17 : EffectRow]
unify ?21 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?21 : Type, ?17 : EffectRow]
subsume ?21 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?21 : Type, ?17 : EffectRow]
subsumeTMeta ?21 := ?t$12
solve ?t$21 9 ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?t$21 : Type, ?17 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsumeTMeta ?t$12 := ?t$21
subsumeTMeta ?t$12 := ?t$12
subsume State ?t$12 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsumeTMeta State ?t$12 =: ?19
subsume State ?t$12 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify ?t$12 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume | (State ?t$12) <: | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsumeTMeta | (State ?t$12) =: ?16
subsume | (State ?t$12) <: | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify State ?t$12 ~ State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State ?t$12 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify ?t$12 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State ?t$12 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify ?t$12 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
unify ?17 ~ ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsume ?17 <: ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?17 : EffectRow]
subsumeTMeta ?17 := ?e$13
solve ?e$17 9 ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow, ?e$17 : EffectRow]
subsume ?e$13 <: ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta ?e$13 := ?e$17
subsumeTMeta ?e$13 := ?e$13
subsume <State ?t$12 | ?e$13> <: <State ?t$12 | ?e$13> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta <State ?t$12 | ?e$13> =: ?e$14
subsume <State ?t$12 | ?e$13> <: <State ?t$12 | ?e$13> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
HERE
rewriteTEff State ; State ?t$12 ; <State ?t$12 | ?e$13>
unify effects
unify State ?t$12 ~ State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume State ?t$12 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?t$12 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume State ?t$12 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?t$12 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?t$12 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify rest
unify ?e$13 ~ ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?e$13 <: ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?e$13 <: ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?e$11 ~ ?e$14 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?e$11 <: <State ?t$12 | ?e$13> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?e$11 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta ?e$11 := ?e$14
subsumeTMeta ?e$11 := <State ?t$12 | ?e$13>
replace2 ?22 : EffectRow -> EffectRow ?23 : EffectRow
subsume ?22 ?23 <: <State ?t$12 | ?e$13> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?22 : EffectRow -> EffectRow, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?22 ~ | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?22 : EffectRow -> EffectRow, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?22 <: | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?22 : EffectRow -> EffectRow, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta ?22 := | (State ?t$12)
replace2 ?24 : Effect -> EffectRow -> EffectRow ?25 : Effect
subsume ?24 ?25 <: | (State ?t$12) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?24 : Effect -> EffectRow -> EffectRow, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?24 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?24 : Effect -> EffectRow -> EffectRow, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?24 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?24 : Effect -> EffectRow -> EffectRow, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta ?24 := |
solve ?24 6 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?24 : Effect -> EffectRow -> EffectRow, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta | =: ?24
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?25 ~ State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?25 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?25 : Effect, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta ?25 := State ?t$12
replace2 ?26 : Type -> Effect ?27 : Type
subsume ?26 ?27 <: State ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?26 : Type -> Effect, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?26 ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?26 : Type -> Effect, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?26 <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?26 : Type -> Effect, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta ?26 := State
solve ?26 6 State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?26 : Type -> Effect, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta State =: ?26
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
unify ?27 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?27 <: ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsumeTMeta ?27 := ?t$12
solve ?t$12 8 ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?t$12 : Type, ?e$13 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?t$12 := ?t$27
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State ?t$27 <: State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta State ?t$12 =: ?25
subsume State ?t$27 <: State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify ?t$12 ~ ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?t$12 := ?t$27
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?t$27 := ?t$12
subsumeTMeta ?t$27 := ?t$27
subsume | (State ?t$27) <: | (State ?t$27) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta | (State ?t$12) =: ?22
subsume | (State ?t$27) <: | (State ?t$27) | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify State ?t$12 ~ State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State ?t$27 <: State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify ?t$12 ~ ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?t$12 := ?t$27
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?t$27 := ?t$12
subsumeTMeta ?t$27 := ?t$27
subsume State ?t$27 <: State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify ?t$27 ~ ?t$12 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?t$27 := ?t$12
subsumeTMeta ?t$27 := ?t$27
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?t$12 := ?t$27
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
unify ?23 ~ ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsume ?23 <: ?e$13 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?23 : EffectRow, ?e$13 : EffectRow]
subsumeTMeta ?23 := ?e$13
solve ?e$13 8 ?e$23 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow, ?e$13 : EffectRow]
subsume ?e$23 <: ?e$23 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta ?e$13 := ?e$23
subsume ?e$23 <: ?e$23 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume <State ?t$27 | ?e$23> <: <State ?t$27 | ?e$23> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta ?e$14 := ?e$11
subsume <State ?t$27 | ?e$23> <: <State ?t$27 | ?e$23> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta <State ?t$27 | ?e$23> =: ?e$11
subsume <State ?t$27 | ?e$23> <: <State ?t$27 | ?e$23> | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
HERE
rewriteTEff State ; State ?t$27 ; <State ?t$27 | ?e$23>
unify effects
unify State ?t$27 ~ State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State ?t$27 <: State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify ?t$27 ~ ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State ?t$27 <: State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify ?t$27 ~ ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?t$27 <: ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify rest
unify ?e$23 ~ ?e$23 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?e$23 <: ?e$23 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?e$23 <: ?e$23 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
LET VAL SYNTH DONE: ?t$27 ; <State ?t$27 | ?e$23>
unify ?e$14 ~ ?e$8 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume <State ?t$27 | ?e$23> <: ?e$8 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta ?e$14 := ?e$8
subsume <State ?t$27 | ?e$23> <: ?e$8 | [|>5, ?6 : Type, |>10, ?7 : Type, ?e$8 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta <State ?t$27 | ?e$23> =: ?e$8
replace2 ?28 : EffectRow -> EffectRow ?29 : EffectRow
subsume <State ?t$27 | ?e$23> <: ?28 ?29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?28 : EffectRow -> EffectRow, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify | (State ?t$27) ~ ?28 | [|>5, ?6 : Type, |>10, ?7 : Type, ?28 : EffectRow -> EffectRow, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume | (State ?t$27) <: ?28 | [|>5, ?6 : Type, |>10, ?7 : Type, ?28 : EffectRow -> EffectRow, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta | (State ?t$27) =: ?28
replace2 ?30 : Effect -> EffectRow -> EffectRow ?31 : Effect
subsume | (State ?t$27) <: ?30 ?31 | [|>5, ?6 : Type, |>10, ?7 : Type, ?30 : Effect -> EffectRow -> EffectRow, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify | ~ ?30 | [|>5, ?6 : Type, |>10, ?7 : Type, ?30 : Effect -> EffectRow -> EffectRow, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume | <: ?30 | [|>5, ?6 : Type, |>10, ?7 : Type, ?30 : Effect -> EffectRow -> EffectRow, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta | =: ?30
solve ?30 4 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?30 : Effect -> EffectRow -> EffectRow, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta ?30 := |
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify State ?t$27 ~ ?31 | [|>5, ?6 : Type, |>10, ?7 : Type, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State ?t$27 <: ?31 | [|>5, ?6 : Type, |>10, ?7 : Type, ?31 : Effect, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta State ?t$27 =: ?31
replace2 ?32 : Type -> Effect ?33 : Type
subsume State ?t$27 <: ?32 ?33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?32 : Type -> Effect, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify State ~ ?32 | [|>5, ?6 : Type, |>10, ?7 : Type, ?32 : Type -> Effect, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State <: ?32 | [|>5, ?6 : Type, |>10, ?7 : Type, ?32 : Type -> Effect, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta State =: ?32
solve ?32 4 State | [|>5, ?6 : Type, |>10, ?7 : Type, ?32 : Type -> Effect, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta ?32 := State
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
unify ?t$27 ~ ?33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?t$27 <: ?33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$27 := ?33
solve ?t$27 7 ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?t$27 : Type, ?e$23 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$33 := ?t$27
subsumeTMeta ?t$33 := ?t$33
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?31 := State ?t$27
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify ?t$33 ~ ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$33 := ?t$27
subsumeTMeta ?t$33 := ?t$33
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$27 := ?t$33
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume | (State ?t$33) <: | (State ?t$33) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?28 := | (State ?t$27)
subsume | (State ?t$33) <: | (State ?t$33) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify State ?t$33 ~ State ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify ?t$33 ~ ?t$27 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$33 := ?t$27
subsumeTMeta ?t$33 := ?t$33
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$27 := ?t$33
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
unify ?t$27 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$27 := ?t$33
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?t$33 := ?t$27
subsumeTMeta ?t$33 := ?t$33
unify ?e$23 ~ ?29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume ?e$23 <: ?29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsumeTMeta ?e$23 := ?29
solve ?e$23 7 ?e$29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$23 : EffectRow]
subsume ?e$29 <: ?e$29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsumeTMeta ?e$29 := ?e$23
subsumeTMeta ?e$29 := ?e$29
subsume <State ?t$33 | ?e$29> <: <State ?t$33 | ?e$29> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsumeTMeta ?e$8 := ?e$14
subsume <State ?t$33 | ?e$29> <: <State ?t$33 | ?e$29> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsumeTMeta <State ?t$33 | ?e$29> =: ?e$14
subsume <State ?t$33 | ?e$29> <: <State ?t$33 | ?e$29> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
HERE
rewriteTEff State ; State ?t$33 ; <State ?t$33 | ?e$29>
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
unify ?t$33 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
unify ?t$33 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
unify rest
unify ?e$29 ~ ?e$29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume ?e$29 <: ?e$29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
subsume ?e$29 <: ?e$29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type]
check #flip Unit : ?9 ; ?e$8
synth #flip Unit
synth #flip
add ?e$34 : EffectRow
synthapp Unit -> <Flip> Bool @ Unit
add ?e$35 : EffectRow
add ?e$36 : EffectRow
check Unit : Unit ; ?e$36
synth Unit
add ?e$37 : EffectRow
subsume Unit <: Unit | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$36 : EffectRow, ?e$37 : EffectRow]
unify ?e$37 ~ ?e$36 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$36 : EffectRow, ?e$37 : EffectRow]
subsume ?e$37 <: ?e$36 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$36 : EffectRow, ?e$37 : EffectRow]
subsumeTMeta ?e$37 := ?e$36
solve ?e$37 10 ?e$36 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$36 : EffectRow, ?e$37 : EffectRow]
subsume ?e$36 <: ?e$36 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$36 : EffectRow]
subsumeTMeta ?e$36 := ?e$37
subsumeTMeta ?e$36 := ?e$36
unify ?e$36 ~ <Flip | ?e$35> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$36 : EffectRow]
subsume ?e$36 <: <Flip | ?e$35> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$36 : EffectRow]
subsumeTMeta ?e$36 := <Flip | ?e$35>
replace2 ?38 : EffectRow -> EffectRow ?39 : EffectRow
subsume ?38 ?39 <: <Flip | ?e$35> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?38 : EffectRow -> EffectRow, ?39 : EffectRow]
unify ?38 ~ | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?38 : EffectRow -> EffectRow, ?39 : EffectRow]
subsume ?38 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?38 : EffectRow -> EffectRow, ?39 : EffectRow]
subsumeTMeta ?38 := | Flip
replace2 ?40 : Effect -> EffectRow -> EffectRow ?41 : Effect
subsume ?40 ?41 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?40 : Effect -> EffectRow -> EffectRow, ?41 : Effect, ?39 : EffectRow]
unify ?40 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?40 : Effect -> EffectRow -> EffectRow, ?41 : Effect, ?39 : EffectRow]
subsume ?40 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?40 : Effect -> EffectRow -> EffectRow, ?41 : Effect, ?39 : EffectRow]
subsumeTMeta ?40 := |
solve ?40 9 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?40 : Effect -> EffectRow -> EffectRow, ?41 : Effect, ?39 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?41 : Effect, ?39 : EffectRow]
subsumeTMeta | =: ?40
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?41 : Effect, ?39 : EffectRow]
unify ?41 ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?41 : Effect, ?39 : EffectRow]
subsume ?41 <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?41 : Effect, ?39 : EffectRow]
subsumeTMeta ?41 := Flip
solve ?41 9 Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?41 : Effect, ?39 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsumeTMeta Flip =: ?41
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsumeTMeta | Flip =: ?38
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
unify ?39 ~ ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsume ?39 <: ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?39 : EffectRow]
subsumeTMeta ?39 := ?e$35
solve ?e$39 9 ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow, ?e$39 : EffectRow]
subsume ?e$35 <: ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta ?e$35 := ?e$39
subsumeTMeta ?e$35 := ?e$35
subsume <Flip | ?e$35> <: <Flip | ?e$35> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta <Flip | ?e$35> =: ?e$36
subsume <Flip | ?e$35> <: <Flip | ?e$35> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$35>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
unify rest
unify ?e$35 ~ ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsume ?e$35 <: ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsume ?e$35 <: ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
unify ?e$34 ~ ?e$36 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsume ?e$34 <: <Flip | ?e$35> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$34 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta ?e$34 := ?e$36
subsumeTMeta ?e$34 := <Flip | ?e$35>
replace2 ?42 : EffectRow -> EffectRow ?43 : EffectRow
subsume ?42 ?43 <: <Flip | ?e$35> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?42 : EffectRow -> EffectRow, ?43 : EffectRow, ?e$35 : EffectRow]
unify ?42 ~ | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?42 : EffectRow -> EffectRow, ?43 : EffectRow, ?e$35 : EffectRow]
subsume ?42 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?42 : EffectRow -> EffectRow, ?43 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta ?42 := | Flip
replace2 ?44 : Effect -> EffectRow -> EffectRow ?45 : Effect
subsume ?44 ?45 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?44 : Effect -> EffectRow -> EffectRow, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
unify ?44 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?44 : Effect -> EffectRow -> EffectRow, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
subsume ?44 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?44 : Effect -> EffectRow -> EffectRow, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta ?44 := |
solve ?44 7 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?44 : Effect -> EffectRow -> EffectRow, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta | =: ?44
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
unify ?45 ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
subsume ?45 <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta ?45 := Flip
solve ?45 7 Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?45 : Effect, ?43 : EffectRow, ?e$35 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta Flip =: ?45
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta | Flip =: ?42
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
unify ?43 ~ ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsume ?43 <: ?e$35 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?43 : EffectRow, ?e$35 : EffectRow]
subsumeTMeta ?43 := ?e$35
solve ?e$35 8 ?e$43 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow, ?e$35 : EffectRow]
subsume ?e$43 <: ?e$43 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsumeTMeta ?e$35 := ?e$43
subsume ?e$43 <: ?e$43 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsume <Flip | ?e$43> <: <Flip | ?e$43> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsumeTMeta ?e$36 := ?e$34
subsume <Flip | ?e$43> <: <Flip | ?e$43> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsumeTMeta <Flip | ?e$43> =: ?e$34
subsume <Flip | ?e$43> <: <Flip | ?e$43> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$43>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
unify rest
unify ?e$43 ~ ?e$43 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsume ?e$43 <: ?e$43 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsume ?e$43 <: ?e$43 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsume Bool <: ?9 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
subsumeTMeta Bool =: ?9
solve ?9 6 Bool | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?9 : Type, ?e$43 : EffectRow]
unify ?e$36 ~ ?e$8 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?e$43 : EffectRow]
subsume <Flip | ?e$43> <: <State ?t$33 | ?e$29> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?e$43 : EffectRow]
subsumeTMeta ?e$36 := ?e$8
subsume <Flip | ?e$43> <: <State ?t$33 | ?e$29> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?e$43 : EffectRow]
subsumeTMeta <Flip | ?e$43> =: ?e$8
subsume <Flip | ?e$43> <: <State ?t$33 | ?e$29> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?e$43 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$33 | ?e$29>
rewriteTEff Flip ; Flip ; ?e$29
add ?e$46 : EffectRow
solve ?e$29 5 <Flip | ?e$46> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$29 : EffectRow, ?e$43 : EffectRow, ?e$46 : EffectRow]
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$43 : EffectRow, ?e$46 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$43 : EffectRow, ?e$46 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$43 : EffectRow, ?e$46 : EffectRow]
unify rest
unify ?e$43 ~ ?e$29 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$43 : EffectRow, ?e$46 : EffectRow]
subsume ?e$43 <: <Flip | ?e$46> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$43 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta ?e$43 := ?e$29
subsumeTMeta ?e$43 := <Flip | ?e$46>
replace2 ?47 : EffectRow -> EffectRow ?48 : EffectRow
subsume ?47 ?48 <: <Flip | ?e$46> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?47 : EffectRow -> EffectRow, ?48 : EffectRow, ?e$46 : EffectRow]
unify ?47 ~ | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?47 : EffectRow -> EffectRow, ?48 : EffectRow, ?e$46 : EffectRow]
subsume ?47 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?47 : EffectRow -> EffectRow, ?48 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta ?47 := | Flip
replace2 ?49 : Effect -> EffectRow -> EffectRow ?50 : Effect
subsume ?49 ?50 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?49 : Effect -> EffectRow -> EffectRow, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
unify ?49 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?49 : Effect -> EffectRow -> EffectRow, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
subsume ?49 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?49 : Effect -> EffectRow -> EffectRow, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta ?49 := |
solve ?49 5 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?49 : Effect -> EffectRow -> EffectRow, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta | =: ?49
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
unify ?50 ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
subsume ?50 <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta ?50 := Flip
solve ?50 5 Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?50 : Effect, ?48 : EffectRow, ?e$46 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta Flip =: ?50
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta | Flip =: ?47
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
unify ?48 ~ ?e$46 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsume ?48 <: ?e$46 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?48 : EffectRow, ?e$46 : EffectRow]
subsumeTMeta ?48 := ?e$46
solve ?e$46 6 ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow, ?e$46 : EffectRow]
subsume ?e$48 <: ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsumeTMeta ?e$46 := ?e$48
subsume ?e$48 <: ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsume <Flip | ?e$48> <: <Flip | ?e$48> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsumeTMeta ?e$29 := ?e$43
subsume <Flip | ?e$48> <: <Flip | ?e$48> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsumeTMeta <Flip | ?e$48> =: ?e$43
subsume <Flip | ?e$48> <: <Flip | ?e$48> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$48>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
unify rest
unify ?e$48 ~ ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsume ?e$48 <: ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsume ?e$48 <: ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsume <State ?t$33, Flip | ?e$48> <: <Flip, Flip | ?e$48> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsumeTMeta ?e$8 := ?e$36
subsume <State ?t$33, Flip | ?e$48> <: <Flip, Flip | ?e$48> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
subsumeTMeta <State ?t$33, Flip | ?e$48> =: ?e$36
subsume <State ?t$33, Flip | ?e$48> <: <Flip, Flip | ?e$48> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow]
HERE
rewriteTEff State ; State ?t$33 ; <Flip, Flip | ?e$48>
rewriteTEff State ; State ?t$33 ; <Flip | ?e$48>
rewriteTEff State ; State ?t$33 ; ?e$48
add ?e$51 : EffectRow
solve ?e$48 5 <State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$48 : EffectRow, ?e$51 : EffectRow]
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
unify rest
unify <Flip | ?e$48> ~ <Flip | ?e$48> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume <Flip, State ?t$33 | ?e$51> <: <Flip, State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$48>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
unify rest
unify ?e$48 ~ ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume <State ?t$33 | ?e$51> <: <State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume <State ?t$33 | ?e$51> <: <State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume <Flip, State ?t$33 | ?e$51> <: <Flip, State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$48>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
unify rest
unify ?e$48 ~ ?e$48 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume <State ?t$33 | ?e$51> <: <State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
subsume <State ?t$33 | ?e$51> <: <State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow]
synth let x = #get Unit in #flip Unit
synth #get Unit
synth #get
add ?e$52 : EffectRow
synthapp ∀(t : Type). Unit -> <State t> t @ Unit
add ?t$53 : Type
synthapp Unit -> <State ?t$53> ?t$53 @ Unit
add ?e$54 : EffectRow
add ?e$55 : EffectRow
check Unit : Unit ; ?e$55
synth Unit
add ?e$56 : EffectRow
subsume Unit <: Unit | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$55 : EffectRow, ?e$56 : EffectRow]
unify ?e$56 ~ ?e$55 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$55 : EffectRow, ?e$56 : EffectRow]
subsume ?e$56 <: ?e$55 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$55 : EffectRow, ?e$56 : EffectRow]
subsumeTMeta ?e$56 := ?e$55
solve ?e$56 10 ?e$55 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$55 : EffectRow, ?e$56 : EffectRow]
subsume ?e$55 <: ?e$55 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$55 : EffectRow]
subsumeTMeta ?e$55 := ?e$56
subsumeTMeta ?e$55 := ?e$55
unify ?e$55 ~ <State ?t$53 | ?e$54> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$55 : EffectRow]
subsume ?e$55 <: <State ?t$53 | ?e$54> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$55 : EffectRow]
subsumeTMeta ?e$55 := <State ?t$53 | ?e$54>
replace2 ?57 : EffectRow -> EffectRow ?58 : EffectRow
subsume ?57 ?58 <: <State ?t$53 | ?e$54> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?57 : EffectRow -> EffectRow, ?58 : EffectRow]
unify ?57 ~ | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?57 : EffectRow -> EffectRow, ?58 : EffectRow]
subsume ?57 <: | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?57 : EffectRow -> EffectRow, ?58 : EffectRow]
subsumeTMeta ?57 := | (State ?t$53)
replace2 ?59 : Effect -> EffectRow -> EffectRow ?60 : Effect
subsume ?59 ?60 <: | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?59 : Effect -> EffectRow -> EffectRow, ?60 : Effect, ?58 : EffectRow]
unify ?59 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?59 : Effect -> EffectRow -> EffectRow, ?60 : Effect, ?58 : EffectRow]
subsume ?59 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?59 : Effect -> EffectRow -> EffectRow, ?60 : Effect, ?58 : EffectRow]
subsumeTMeta ?59 := |
solve ?59 9 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?59 : Effect -> EffectRow -> EffectRow, ?60 : Effect, ?58 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?60 : Effect, ?58 : EffectRow]
subsumeTMeta | =: ?59
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?60 : Effect, ?58 : EffectRow]
unify ?60 ~ State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?60 : Effect, ?58 : EffectRow]
subsume ?60 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?60 : Effect, ?58 : EffectRow]
subsumeTMeta ?60 := State ?t$53
replace2 ?61 : Type -> Effect ?62 : Type
subsume ?61 ?62 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?61 : Type -> Effect, ?62 : Type, ?58 : EffectRow]
unify ?61 ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?61 : Type -> Effect, ?62 : Type, ?58 : EffectRow]
subsume ?61 <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?61 : Type -> Effect, ?62 : Type, ?58 : EffectRow]
subsumeTMeta ?61 := State
solve ?61 9 State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?61 : Type -> Effect, ?62 : Type, ?58 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?62 : Type, ?58 : EffectRow]
subsumeTMeta State =: ?61
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?62 : Type, ?58 : EffectRow]
unify ?62 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?62 : Type, ?58 : EffectRow]
subsume ?62 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?62 : Type, ?58 : EffectRow]
subsumeTMeta ?62 := ?t$53
solve ?t$62 9 ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?t$62 : Type, ?58 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsumeTMeta ?t$53 := ?t$62
subsumeTMeta ?t$53 := ?t$53
subsume State ?t$53 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsumeTMeta State ?t$53 =: ?60
subsume State ?t$53 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify ?t$53 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume | (State ?t$53) <: | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsumeTMeta | (State ?t$53) =: ?57
subsume | (State ?t$53) <: | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify State ?t$53 ~ State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State ?t$53 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify ?t$53 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State ?t$53 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify ?t$53 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
unify ?58 ~ ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsume ?58 <: ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?58 : EffectRow]
subsumeTMeta ?58 := ?e$54
solve ?e$58 9 ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow, ?e$58 : EffectRow]
subsume ?e$54 <: ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta ?e$54 := ?e$58
subsumeTMeta ?e$54 := ?e$54
subsume <State ?t$53 | ?e$54> <: <State ?t$53 | ?e$54> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta <State ?t$53 | ?e$54> =: ?e$55
subsume <State ?t$53 | ?e$54> <: <State ?t$53 | ?e$54> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
HERE
rewriteTEff State ; State ?t$53 ; <State ?t$53 | ?e$54>
unify effects
unify State ?t$53 ~ State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume State ?t$53 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?t$53 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume State ?t$53 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?t$53 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?t$53 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify rest
unify ?e$54 ~ ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?e$54 <: ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?e$54 <: ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?e$52 ~ ?e$55 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?e$52 <: <State ?t$53 | ?e$54> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$52 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta ?e$52 := ?e$55
subsumeTMeta ?e$52 := <State ?t$53 | ?e$54>
replace2 ?63 : EffectRow -> EffectRow ?64 : EffectRow
subsume ?63 ?64 <: <State ?t$53 | ?e$54> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?63 : EffectRow -> EffectRow, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?63 ~ | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?63 : EffectRow -> EffectRow, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?63 <: | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?63 : EffectRow -> EffectRow, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta ?63 := | (State ?t$53)
replace2 ?65 : Effect -> EffectRow -> EffectRow ?66 : Effect
subsume ?65 ?66 <: | (State ?t$53) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?65 : Effect -> EffectRow -> EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?65 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?65 : Effect -> EffectRow -> EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?65 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?65 : Effect -> EffectRow -> EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta ?65 := |
solve ?65 6 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?65 : Effect -> EffectRow -> EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta | =: ?65
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?66 ~ State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?66 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?66 : Effect, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta ?66 := State ?t$53
replace2 ?67 : Type -> Effect ?68 : Type
subsume ?67 ?68 <: State ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?67 : Type -> Effect, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?67 ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?67 : Type -> Effect, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?67 <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?67 : Type -> Effect, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta ?67 := State
solve ?67 6 State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?67 : Type -> Effect, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta State =: ?67
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
unify ?68 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?68 <: ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsumeTMeta ?68 := ?t$53
solve ?t$53 8 ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?t$53 : Type, ?e$54 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?t$53 := ?t$68
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta State ?t$53 =: ?66
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify ?t$53 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?t$53 := ?t$68
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?t$68 := ?t$53
subsumeTMeta ?t$68 := ?t$68
subsume | (State ?t$68) <: | (State ?t$68) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta | (State ?t$53) =: ?63
subsume | (State ?t$68) <: | (State ?t$68) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify State ?t$53 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify ?t$53 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?t$53 := ?t$68
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?t$68 := ?t$53
subsumeTMeta ?t$68 := ?t$68
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify ?t$68 ~ ?t$53 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?t$68 := ?t$53
subsumeTMeta ?t$68 := ?t$68
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?t$53 := ?t$68
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
unify ?64 ~ ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsume ?64 <: ?e$54 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?64 : EffectRow, ?e$54 : EffectRow]
subsumeTMeta ?64 := ?e$54
solve ?e$54 8 ?e$64 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$54 : EffectRow]
subsume ?e$64 <: ?e$64 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsumeTMeta ?e$54 := ?e$64
subsume ?e$64 <: ?e$64 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume <State ?t$68 | ?e$64> <: <State ?t$68 | ?e$64> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsumeTMeta ?e$55 := ?e$52
subsume <State ?t$68 | ?e$64> <: <State ?t$68 | ?e$64> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsumeTMeta <State ?t$68 | ?e$64> =: ?e$52
subsume <State ?t$68 | ?e$64> <: <State ?t$68 | ?e$64> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
HERE
rewriteTEff State ; State ?t$68 ; <State ?t$68 | ?e$64>
unify effects
unify State ?t$68 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
unify rest
unify ?e$64 ~ ?e$64 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume ?e$64 <: ?e$64 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
subsume ?e$64 <: ?e$64 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow]
synth #flip Unit
synth #flip
add ?e$69 : EffectRow
synthapp Unit -> <Flip> Bool @ Unit
add ?e$70 : EffectRow
add ?e$71 : EffectRow
check Unit : Unit ; ?e$71
synth Unit
add ?e$72 : EffectRow
subsume Unit <: Unit | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$71 : EffectRow, ?e$72 : EffectRow]
unify ?e$72 ~ ?e$71 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$71 : EffectRow, ?e$72 : EffectRow]
subsume ?e$72 <: ?e$71 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$71 : EffectRow, ?e$72 : EffectRow]
subsumeTMeta ?e$72 := ?e$71
solve ?e$72 11 ?e$71 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$71 : EffectRow, ?e$72 : EffectRow]
subsume ?e$71 <: ?e$71 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$71 : EffectRow]
subsumeTMeta ?e$71 := ?e$72
subsumeTMeta ?e$71 := ?e$71
unify ?e$71 ~ <Flip | ?e$70> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$71 : EffectRow]
subsume ?e$71 <: <Flip | ?e$70> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$71 : EffectRow]
subsumeTMeta ?e$71 := <Flip | ?e$70>
replace2 ?73 : EffectRow -> EffectRow ?74 : EffectRow
subsume ?73 ?74 <: <Flip | ?e$70> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?73 : EffectRow -> EffectRow, ?74 : EffectRow]
unify ?73 ~ | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?73 : EffectRow -> EffectRow, ?74 : EffectRow]
subsume ?73 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?73 : EffectRow -> EffectRow, ?74 : EffectRow]
subsumeTMeta ?73 := | Flip
replace2 ?75 : Effect -> EffectRow -> EffectRow ?76 : Effect
subsume ?75 ?76 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?75 : Effect -> EffectRow -> EffectRow, ?76 : Effect, ?74 : EffectRow]
unify ?75 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?75 : Effect -> EffectRow -> EffectRow, ?76 : Effect, ?74 : EffectRow]
subsume ?75 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?75 : Effect -> EffectRow -> EffectRow, ?76 : Effect, ?74 : EffectRow]
subsumeTMeta ?75 := |
solve ?75 10 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?75 : Effect -> EffectRow -> EffectRow, ?76 : Effect, ?74 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?76 : Effect, ?74 : EffectRow]
subsumeTMeta | =: ?75
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?76 : Effect, ?74 : EffectRow]
unify ?76 ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?76 : Effect, ?74 : EffectRow]
subsume ?76 <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?76 : Effect, ?74 : EffectRow]
subsumeTMeta ?76 := Flip
solve ?76 10 Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?76 : Effect, ?74 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsumeTMeta Flip =: ?76
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsumeTMeta | Flip =: ?73
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
unify ?74 ~ ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsume ?74 <: ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?74 : EffectRow]
subsumeTMeta ?74 := ?e$70
solve ?e$74 10 ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow, ?e$74 : EffectRow]
subsume ?e$70 <: ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta ?e$70 := ?e$74
subsumeTMeta ?e$70 := ?e$70
subsume <Flip | ?e$70> <: <Flip | ?e$70> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta <Flip | ?e$70> =: ?e$71
subsume <Flip | ?e$70> <: <Flip | ?e$70> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$70>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
unify rest
unify ?e$70 ~ ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsume ?e$70 <: ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsume ?e$70 <: ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
unify ?e$69 ~ ?e$71 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsume ?e$69 <: <Flip | ?e$70> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$69 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta ?e$69 := ?e$71
subsumeTMeta ?e$69 := <Flip | ?e$70>
replace2 ?77 : EffectRow -> EffectRow ?78 : EffectRow
subsume ?77 ?78 <: <Flip | ?e$70> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?77 : EffectRow -> EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
unify ?77 ~ | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?77 : EffectRow -> EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsume ?77 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?77 : EffectRow -> EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta ?77 := | Flip
replace2 ?79 : Effect -> EffectRow -> EffectRow ?80 : Effect
subsume ?79 ?80 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?79 : Effect -> EffectRow -> EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
unify ?79 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?79 : Effect -> EffectRow -> EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
subsume ?79 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?79 : Effect -> EffectRow -> EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta ?79 := |
solve ?79 8 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?79 : Effect -> EffectRow -> EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta | =: ?79
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
unify ?80 ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
subsume ?80 <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta ?80 := Flip
solve ?80 8 Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?80 : Effect, ?78 : EffectRow, ?e$70 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta Flip =: ?80
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta | Flip =: ?77
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
unify ?78 ~ ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsume ?78 <: ?e$70 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?78 : EffectRow, ?e$70 : EffectRow]
subsumeTMeta ?78 := ?e$70
solve ?e$70 9 ?e$78 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow, ?e$70 : EffectRow]
subsume ?e$78 <: ?e$78 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsumeTMeta ?e$70 := ?e$78
subsume ?e$78 <: ?e$78 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsume <Flip | ?e$78> <: <Flip | ?e$78> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsumeTMeta ?e$71 := ?e$69
subsume <Flip | ?e$78> <: <Flip | ?e$78> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsumeTMeta <Flip | ?e$78> =: ?e$69
subsume <Flip | ?e$78> <: <Flip | ?e$78> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$78>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
unify rest
unify ?e$78 ~ ?e$78 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsume ?e$78 <: ?e$78 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsume ?e$78 <: ?e$78 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
unify ?e$55 ~ ?e$71 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsume <State ?t$68 | ?e$64> <: <Flip | ?e$78> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsumeTMeta ?e$55 := ?e$71
subsume <State ?t$68 | ?e$64> <: <Flip | ?e$78> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
subsumeTMeta <State ?t$68 | ?e$64> =: ?e$71
subsume <State ?t$68 | ?e$64> <: <Flip | ?e$78> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow]
HERE
rewriteTEff State ; State ?t$68 ; <Flip | ?e$78>
rewriteTEff State ; State ?t$68 ; ?e$78
add ?e$81 : EffectRow
solve ?e$78 8 <State ?t$68 | ?e$81> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$78 : EffectRow, ?e$81 : EffectRow]
unify effects
unify State ?t$68 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$81 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$81 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$81 : EffectRow]
unify rest
unify ?e$64 ~ ?e$78 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$81 : EffectRow]
subsume ?e$64 <: <State ?t$68 | ?e$81> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$64 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?e$64 := ?e$78
subsumeTMeta ?e$64 := <State ?t$68 | ?e$81>
replace2 ?82 : EffectRow -> EffectRow ?83 : EffectRow
subsume ?82 ?83 <: <State ?t$68 | ?e$81> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?82 : EffectRow -> EffectRow, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?82 ~ | (State ?t$68) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?82 : EffectRow -> EffectRow, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?82 <: | (State ?t$68) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?82 : EffectRow -> EffectRow, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?82 := | (State ?t$68)
replace2 ?84 : Effect -> EffectRow -> EffectRow ?85 : Effect
subsume ?84 ?85 <: | (State ?t$68) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?84 : Effect -> EffectRow -> EffectRow, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?84 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?84 : Effect -> EffectRow -> EffectRow, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?84 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?84 : Effect -> EffectRow -> EffectRow, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?84 := |
solve ?84 7 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?84 : Effect -> EffectRow -> EffectRow, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta | =: ?84
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?85 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?85 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?85 : Effect, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?85 := State ?t$68
replace2 ?86 : Type -> Effect ?87 : Type
subsume ?86 ?87 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?86 : Type -> Effect, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?86 ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?86 : Type -> Effect, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?86 <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?86 : Type -> Effect, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?86 := State
solve ?86 7 State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?86 : Type -> Effect, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta State =: ?86
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?87 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?87 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?87 := ?t$68
solve ?t$87 7 ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?t$87 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?t$68 := ?t$87
subsumeTMeta ?t$68 := ?t$68
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta State ?t$68 =: ?85
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume | (State ?t$68) <: | (State ?t$68) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta | (State ?t$68) =: ?82
subsume | (State ?t$68) <: | (State ?t$68) | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify State ?t$68 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
unify ?83 ~ ?e$81 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsume ?83 <: ?e$81 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?83 : EffectRow, ?e$81 : EffectRow]
subsumeTMeta ?83 := ?e$81
solve ?e$81 8 ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow, ?e$81 : EffectRow]
subsume ?e$83 <: ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsumeTMeta ?e$81 := ?e$83
subsume ?e$83 <: ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume <State ?t$68 | ?e$83> <: <State ?t$68 | ?e$83> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsumeTMeta ?e$78 := ?e$64
subsume <State ?t$68 | ?e$83> <: <State ?t$68 | ?e$83> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsumeTMeta <State ?t$68 | ?e$83> =: ?e$64
subsume <State ?t$68 | ?e$83> <: <State ?t$68 | ?e$83> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
HERE
rewriteTEff State ; State ?t$68 ; <State ?t$68 | ?e$83>
unify effects
unify State ?t$68 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
unify rest
unify ?e$83 ~ ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume ?e$83 <: ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume ?e$83 <: ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsume <Flip, State ?t$68 | ?e$83> <: <State ?t$68, State ?t$68 | ?e$83> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsumeTMeta ?e$71 := ?e$55
subsume <Flip, State ?t$68 | ?e$83> <: <State ?t$68, State ?t$68 | ?e$83> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
subsumeTMeta <Flip, State ?t$68 | ?e$83> =: ?e$55
subsume <Flip, State ?t$68 | ?e$83> <: <State ?t$68, State ?t$68 | ?e$83> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$68, State ?t$68 | ?e$83>
rewriteTEff Flip ; Flip ; <State ?t$68 | ?e$83>
rewriteTEff Flip ; Flip ; ?e$83
add ?e$88 : EffectRow
solve ?e$83 7 <Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$83 : EffectRow, ?e$88 : EffectRow]
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify rest
unify <State ?t$68 | ?e$83> ~ <State ?t$68 | ?e$83> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <State ?t$68, Flip | ?e$88> <: <State ?t$68, Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
HERE
rewriteTEff State ; State ?t$68 ; <State ?t$68 | ?e$83>
unify effects
unify State ?t$68 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify rest
unify ?e$83 ~ ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <Flip | ?e$88> <: <Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <Flip | ?e$88> <: <Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <State ?t$68, Flip | ?e$88> <: <State ?t$68, Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
HERE
rewriteTEff State ; State ?t$68 ; <State ?t$68 | ?e$83>
unify effects
unify State ?t$68 ~ State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State ?t$68 <: State ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify ?t$68 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify rest
unify ?e$83 ~ ?e$83 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <Flip | ?e$88> <: <Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <Flip | ?e$88> <: <Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume Bool <: Bool | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsumeTMeta Bool =: ?9
subsume Bool <: Bool | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify ?e$71 ~ ?e$8 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <Flip, State ?t$68, Flip | ?e$88> <: <State ?t$33, Flip, State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsumeTMeta ?e$71 := ?e$8
subsume <Flip, State ?t$68, Flip | ?e$88> <: <State ?t$33, Flip, State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsumeTMeta <Flip, State ?t$68, Flip | ?e$88> =: ?e$8
subsume <Flip, State ?t$68, Flip | ?e$88> <: <State ?t$33, Flip, State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$33, Flip, State ?t$33 | ?e$51>
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$51>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify rest
unify <State ?t$68, Flip | ?e$88> ~ <Flip, State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume <State ?t$68, Flip | ?e$88> <: <Flip, State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
HERE
rewriteTEff State ; State ?t$68 ; <Flip, State ?t$33 | ?e$51>
rewriteTEff State ; State ?t$68 ; <State ?t$33 | ?e$51>
unify effects
unify State ?t$68 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State ?t$68 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
unify ?t$68 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$68 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsumeTMeta ?t$68 := ?t$33
solve ?t$68 6 ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?t$68 : Type, ?e$88 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
subsumeTMeta ?t$33 := ?t$68
subsumeTMeta ?t$33 := ?t$33
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
unify ?t$33 ~ ?t$68 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
subsumeTMeta ?t$33 := ?t$68
subsumeTMeta ?t$33 := ?t$33
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
subsumeTMeta ?t$68 := ?t$33
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
unify rest
unify <Flip | ?e$88> ~ <State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
subsume <Flip | ?e$88> <: <State ?t$33 | ?e$51> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$33 | ?e$51>
rewriteTEff Flip ; Flip ; ?e$51
add ?e$89 : EffectRow
solve ?e$51 5 <Flip | ?e$89> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$51 : EffectRow, ?e$88 : EffectRow, ?e$89 : EffectRow]
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$88 : EffectRow, ?e$89 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$88 : EffectRow, ?e$89 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$88 : EffectRow, ?e$89 : EffectRow]
unify rest
unify ?e$88 ~ ?e$51 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$88 : EffectRow, ?e$89 : EffectRow]
subsume ?e$88 <: <Flip | ?e$89> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$88 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta ?e$88 := ?e$51
subsumeTMeta ?e$88 := <Flip | ?e$89>
replace2 ?90 : EffectRow -> EffectRow ?91 : EffectRow
subsume ?90 ?91 <: <Flip | ?e$89> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?90 : EffectRow -> EffectRow, ?91 : EffectRow, ?e$89 : EffectRow]
unify ?90 ~ | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?90 : EffectRow -> EffectRow, ?91 : EffectRow, ?e$89 : EffectRow]
subsume ?90 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?90 : EffectRow -> EffectRow, ?91 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta ?90 := | Flip
replace2 ?92 : Effect -> EffectRow -> EffectRow ?93 : Effect
subsume ?92 ?93 <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?92 : Effect -> EffectRow -> EffectRow, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
unify ?92 ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?92 : Effect -> EffectRow -> EffectRow, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
subsume ?92 <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?92 : Effect -> EffectRow -> EffectRow, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta ?92 := |
solve ?92 5 | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?92 : Effect -> EffectRow -> EffectRow, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta | =: ?92
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
unify ?93 ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
subsume ?93 <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta ?93 := Flip
solve ?93 5 Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?93 : Effect, ?91 : EffectRow, ?e$89 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta Flip =: ?93
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta | Flip =: ?90
subsume | Flip <: | Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
unify | ~ | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsume | <: | | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
unify ?91 ~ ?e$89 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsume ?91 <: ?e$89 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?91 : EffectRow, ?e$89 : EffectRow]
subsumeTMeta ?91 := ?e$89
solve ?e$89 6 ?e$91 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow, ?e$89 : EffectRow]
subsume ?e$91 <: ?e$91 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsumeTMeta ?e$89 := ?e$91
subsume ?e$91 <: ?e$91 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsume <Flip | ?e$91> <: <Flip | ?e$91> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsumeTMeta ?e$51 := ?e$88
subsume <Flip | ?e$91> <: <Flip | ?e$91> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsumeTMeta <Flip | ?e$91> =: ?e$88
subsume <Flip | ?e$91> <: <Flip | ?e$91> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip | ?e$91>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
unify rest
unify ?e$91 ~ ?e$91 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsume ?e$91 <: ?e$91 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsume ?e$91 <: ?e$91 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
subsume <State ?t$33, Flip | ?e$91> <: <Flip, Flip | ?e$91> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow]
HERE
rewriteTEff State ; State ?t$33 ; <Flip | ?e$88>
rewriteTEff State ; State ?t$33 ; ?e$88
rewriteTEff State ; State ?t$33 ; <Flip | ?e$91>
rewriteTEff State ; State ?t$33 ; ?e$91
add ?e$94 : EffectRow
solve ?e$91 5 <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$91 : EffectRow, ?e$94 : EffectRow]
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify ?e$51 ~ ?e$88 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta ?e$51 := ?e$88
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <Flip, State ?t$33 | ?e$94> =: ?e$88
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta ?e$88 := ?e$51
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <Flip, State ?t$33 | ?e$94> =: ?e$51
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33, Flip, State ?t$33 | ?e$94> <: <State ?t$33, Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$68, Flip | ?e$88>
rewriteTEff Flip ; Flip ; <Flip | ?e$88>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$51> ~ <Flip | ?e$88> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33, Flip, State ?t$33 | ?e$94> <: <Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff State ; State ?t$33 ; <Flip | ?e$88>
rewriteTEff State ; State ?t$33 ; ?e$88
rewriteTEff State ; State ?t$33 ; <Flip, State ?t$33 | ?e$94>
rewriteTEff State ; State ?t$33 ; <State ?t$33 | ?e$94>
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify ?e$51 ~ ?e$88 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta ?e$51 := ?e$88
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <Flip, State ?t$33 | ?e$94> =: ?e$88
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta ?e$88 := ?e$51
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <Flip, State ?t$33 | ?e$94> =: ?e$51
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, Flip, State ?t$33 | ?e$94> <: <State ?t$33, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$33 | ?e$51>
rewriteTEff Flip ; Flip ; ?e$51
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify ?e$88 ~ ?e$51 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta ?e$88 := ?e$51
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <Flip, State ?t$33 | ?e$94> =: ?e$51
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta ?e$51 := ?e$88
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <Flip, State ?t$33 | ?e$94> =: ?e$88
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33, Flip, State ?t$33, Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33, Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta ?e$8 := ?e$71
subsume <State ?t$33, Flip, State ?t$33, Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33, Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <State ?t$33, Flip, State ?t$33, Flip, State ?t$33 | ?e$94> =: ?e$71
subsume <State ?t$33, Flip, State ?t$33, Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33, Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff State ; State ?t$33 ; <Flip, State ?t$33, Flip, Flip, State ?t$33 | ?e$94>
rewriteTEff State ; State ?t$33 ; <State ?t$33, Flip, Flip, State ?t$33 | ?e$94>
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify ?t$33 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify ?t$33 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <Flip, State ?t$33, Flip, State ?t$33 | ?e$94> ~ <State ?t$33, Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33, Flip, State ?t$33 | ?e$94> <: <State ?t$33, Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$33, Flip, Flip, State ?t$33 | ?e$94>
rewriteTEff Flip ; Flip ; <Flip, Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33, Flip, State ?t$33 | ?e$94> ~ <Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33, Flip, State ?t$33 | ?e$94> <: <Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff State ; State ?t$33 ; <Flip, Flip, State ?t$33 | ?e$94>
rewriteTEff State ; State ?t$33 ; <Flip, State ?t$33 | ?e$94>
rewriteTEff State ; State ?t$33 ; <State ?t$33 | ?e$94>
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <Flip, State ?t$33 | ?e$94> ~ <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, Flip, State ?t$33 | ?e$94> <: <State ?t$33, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$33, Flip, State ?t$33 | ?e$94>
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <Flip, State ?t$33 | ?e$94> ~ <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33, Flip, Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff State ; State ?t$33 ; <Flip, State ?t$33, Flip, State ?t$33 | ?e$94>
rewriteTEff State ; State ?t$33 ; <State ?t$33, Flip, State ?t$33 | ?e$94>
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify ?t$33 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify State ~ State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State <: State | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify ?t$33 ~ ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume ?t$33 <: ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <Flip, Flip, State ?t$33 | ?e$94> ~ <State ?t$33, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, Flip, State ?t$33 | ?e$94> <: <State ?t$33, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <State ?t$33, Flip, State ?t$33 | ?e$94>
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <Flip, State ?t$33 | ?e$94> ~ <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33, Flip, State ?t$33 | ?e$94> <: <Flip, Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff State ; State ?t$33 ; <Flip, Flip, State ?t$33 | ?e$94>
rewriteTEff State ; State ?t$33 ; <Flip, State ?t$33 | ?e$94>
rewriteTEff State ; State ?t$33 ; <State ?t$33 | ?e$94>
unify effects
unify State ?t$33 ~ State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume State ?t$33 <: State ?t$33 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <Flip, State ?t$33 | ?e$94> ~ <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <Flip, State ?t$33 | ?e$94> <: <Flip, State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
HERE
rewriteTEff Flip ; Flip ; <Flip, State ?t$33 | ?e$94>
unify effects
unify Flip ~ Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume Flip <: Flip | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
unify rest
unify <State ?t$33 | ?e$94> ~ <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsume <State ?t$33 | ?e$94> <: <State ?t$33 | ?e$94> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
add ?e$95 : EffectRow
unify ?e$95 ~ <> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow, ?e$95 : EffectRow]
subsume ?e$95 <: <> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow, ?e$95 : EffectRow]
subsumeTMeta ?e$95 := <>
solve ?e$95 6 <> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow, ?e$95 : EffectRow]
subsume <> <: <> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
subsumeTMeta <> =: ?e$95
subsume <> <: <> | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
generalize |>5 ?7 -> <State ?t$33, Flip, State ?t$33, Flip, State ?t$33 | ?e$94> ?9 | [|>5, ?6 : Type, |>10, ?7 : Type, ?t$33 : Type, ?e$94 : EffectRow]
defined testeff : ∀(a : Type) (t : Type) (e : EffectRow). a -> <State t, Flip, State t, Flip, State t | e> Bool
type Unit = Unit; type Bool = True | False; effect Flip = flip : Unit -> Bool; effect State (t : ?) = get : Unit -> t | put : t -> Unit; let testeff = λ_ -> let x = #get Unit in #flip Unit
-> :: Type -> EffectRow -> Type -> Type
<> :: EffectRow
| :: Effect -> EffectRow -> EffectRow
Int :: Type
Unit :: Type
Bool :: Type
Flip :: Effect
State :: Type -> Effect
zero : Int
Unit : Unit
?Unit : ∀(e : EffectRow) (r : Type). Unit -> (Unit -> <e> r) -> <e> r
True : Bool
False : Bool
?Bool : ∀(e : EffectRow) (r : Type). Bool -> (Unit -> <e> r) -> (Unit -> <e> r) -> <e> r
#flip : Unit -> <Flip> Bool
!Flip : ∀(e : EffectRow) (a : Type) (b : Type). (Unit -> <Flip | e> a) -> (Unit -> (Bool -> <e> b) -> <e> b) -> (a -> <e> b) -> <e> b
#get : ∀(t : Type). Unit -> <State t> t
#put : ∀(t : Type). t -> <State t> Unit
!State : ∀(t : Type) (e : EffectRow) (a : Type) (b : Type). (Unit -> <State t | e> a) -> (Unit -> (t -> <e> b) -> <e> b) -> (t -> (Unit -> <e> b) -> <e> b) -> (a -> <e> b) -> <e> b
testeff : ∀(a : Type) (t : Type) (e : EffectRow). a -> <State t, Flip, State t, Flip, State t | e> Bool
